# ‡∏Å‡∏é‡∏Å‡∏≤‡∏£ Build ‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Firmware (Mandatory Rules)

> [!CAUTION]
> **‡∏´‡πâ‡∏≤‡∏°‡∏ù‡πà‡∏≤‡∏ù‡∏∑‡∏ô‡∏Å‡∏é‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ** - ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞ Build Firmware ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡πà‡∏á‡∏Ñ‡∏£‡∏±‡∏î

---

## üìÅ ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Firmware

**‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö:**

- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå `.bin` ‡∏ó‡∏µ‡πà `docs/assets/firmware/` ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- **‡∏´‡πâ‡∏≤‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô**

---

## üìù ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå

### Template

```text
{‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏£‡πå‡∏î}-{‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô}_firmware_{‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πàbuild}.bin
```

### ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

- **‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏£‡πå‡∏î**: `ESP32` (‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏´‡∏ç‡πà)
- **‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô**: ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `NA_V{major}.{minor}.{patch}` (‡∏ï‡∏≤‡∏° Semantic Versioning)
- **‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πàbuild**: ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `YYYYMMDD` (‡∏õ‡∏µ 4 ‡∏´‡∏•‡∏±‡∏Å + ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 2 ‡∏´‡∏•‡∏±‡∏Å + ‡∏ß‡∏±‡∏ô 2 ‡∏´‡∏•‡∏±‡∏Å)
- **‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•**: `.bin` (‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å)

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

```text
ESP32-NA_V1.0.0_firmware_20250129.bin
ESP32-NA_V1.0.1_firmware_20250130.bin
ESP32-NA_V2.1.3_firmware_20250215.bin
```

### ‚ùå ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î

```text
firmware.bin                           ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
esp32_v1.0.0.bin                       ‚ùå ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
ESP32-NA_V1.0.0_20250129.bin          ‚ùå ‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "firmware"
ESP32-NA_V1.0.0_firmware_2025-01-29.bin ‚ùå ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ dash (-)
```

---

## ‚úÖ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (Build Workflow)

### 1. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Source Code

```bash
# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô src/
```

### 2. Build Firmware

```bash
cd /path/to/micro-NA_Firmware
pio run
```

### 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà Build ‡πÑ‡∏î‡πâ

```bash
ls -lh .pio/build/esp32dev/firmware.bin
```

### 4. Copy ‡πÅ‡∏•‡∏∞ Rename

```bash
# ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: Build ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 29 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2025, ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô 1.0.0
cp .pio/build/esp32dev/firmware.bin \
   docs/assets/firmware/ESP32-NA_V1.0.0_firmware_20250129.bin
```

### 5. Verify

```bash
ls -lh docs/assets/firmware/
```

### 6. Commit ‡∏û‡∏£‡πâ‡∏≠‡∏° Firmware

```bash
git add docs/assets/firmware/ESP32-NA_V1.0.0_firmware_20250129.bin
git commit -m "build: add firmware ESP32-NA_V1.0.0 (20250129)"
git push
```

---

## üìã Checklist ‡∏Å‡πà‡∏≠‡∏ô Commit

- [ ] ‡πÑ‡∏ü‡∏•‡πå `.bin` ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô `docs/assets/firmware/`
- [ ] ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `{‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏£‡πå‡∏î}-{‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô}_firmware_{‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà}.bin`
- [ ] ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà Build ‡∏à‡∏£‡∏¥‡∏á (YYYYMMDD)
- [ ] ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Source Code
- [ ] ‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô 0 bytes
- [ ] Commit message ‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà

---

## üîÑ Version Numbering

‡πÉ‡∏ä‡πâ **Semantic Versioning** (SemVer):

```text
NA_V{MAJOR}.{MINOR}.{PATCH}
```

- **MAJOR**: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ Breaking Changes (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Protocol)
- **MINOR**: ‡πÄ‡∏û‡∏¥‡πà‡∏° Features ‡πÉ‡∏´‡∏°‡πà (Backward Compatible)
- **PATCH**: Bug Fixes ‡πÅ‡∏•‡∏∞ Minor Improvements

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**

- `NA_V1.0.0` ‚Üí ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡πÅ‡∏£‡∏Å
- `NA_V1.0.1` ‚Üí ‡πÅ‡∏Å‡πâ Bug
- `NA_V1.1.0` ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Feature ‡πÉ‡∏´‡∏°‡πà
- `NA_V2.0.0` ‚Üí Breaking Change (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô JSON Protocol)

---

## üì¶ ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö Firmware

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Directory

```text
docs/assets/firmware/
‚îú‚îÄ‚îÄ readme.md (‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ)
‚îú‚îÄ‚îÄ ESP32-NA_V1.0.0_firmware_20250129.bin
‚îú‚îÄ‚îÄ ESP32-NA_V1.0.1_firmware_20250130.bin
‚îî‚îÄ‚îÄ ESP32-NA_V1.1.0_firmware_20250205.bin
```

### ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏Å‡πà‡∏≤

- **‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î** - ‡πÑ‡∏°‡πà‡∏•‡∏ö Firmware ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏Å‡πà‡∏≤
- ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Rollback ‡∏´‡∏£‡∏∑‡∏≠ Testing
- Git ‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ History ‡πÉ‡∏´‡πâ

---

## üöÄ ‡∏Å‡∏≤‡∏£ Deploy ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Flasher

‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå **micro-NA_Flasher** ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏°‡πÅ‡∏ß‡∏£‡πå‡πÑ‡∏î‡πâ ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ Deploy ‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏≤‡∏Å‡∏Ñ‡∏•‡∏±‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `public/` ‡∏Ç‡∏≠‡∏á Flasher

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£ Deploy ‡∏î‡πâ‡∏ß‡∏¢ Script (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå [deploy_to_flasher.sh](../../deploy_to_flasher.sh) ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:

```bash
./deploy_to_flasher.sh ESP32-NA_V1.0.0_firmware_20250129.bin
```

---

## üö® ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥

- ‚ùå **‡∏´‡πâ‡∏≤‡∏°** ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå `.bin` ‡∏ó‡∏µ‡πà root directory
- ‚ùå **‡∏´‡πâ‡∏≤‡∏°** ‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠ `firmware.bin` ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô
- ‚ùå **‡∏´‡πâ‡∏≤‡∏°** ‡∏•‡∏ö Firmware ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•
- ‚ùå **‡∏´‡πâ‡∏≤‡∏°** Commit ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡πÉ‡∏ô Commit Message
- ‚ùå **‡∏´‡πâ‡∏≤‡∏°** Build ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå `.bin`

---

## üìù Commit Message Convention

```text
build: add firmware {‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏£‡πå‡∏î}-{‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô} ({‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà})

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:
build: add firmware ESP32-NA_V1.0.0 (20250129)
build: add firmware ESP32-NA_V1.0.1 (20250130)
```

---

## üîó Related Documents

- [README.md](../../README.md) - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏Ç‡∏≠‡∏á NA Firmware
- [index.md](../index.md) - Documentation Index
- [protocol.md](../protocol.md) - Serial Protocol Specification

---

**Last Updated:** 2025-01-29  
**Maintained by:** GhostMicro RN Foundation
